<UserControl x:Class="PixiEditor.Views.UserControls.Guides.LineGuideSettings"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:colorpicker="clr-namespace:ColorPicker;assembly=ColorPicker"
             xmlns:behaviors="clr-namespace:PixiEditor.Helpers.Behaviours"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:uc="clr-namespace:PixiEditor.Views.UserControls"
             xmlns:ui="clr-namespace:PixiEditor.Extensions.UI;assembly=PixiEditor.Extensions"
             mc:Ignorable="d"
             Foreground="White"
             d:DesignHeight="450" d:DesignWidth="800">
    <StackPanel Grid.IsSharedSizeScope="true">
        <StackPanel.Resources>
            <Style TargetType="Grid" x:Key="Child">
                <Setter Property="Margin" Value="0,0,0,10"/>
            </Style>
        </StackPanel.Resources>
        
        <Grid Style="{StaticResource Child}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" SharedSizeGroup="width" MinWidth="70"/>
                <ColumnDefinition Width="Auto" MinWidth="200"/>
            </Grid.ColumnDefinitions>
            <TextBlock ui:Translator.Key="NAME" Margin="0,0,10,0" TextAlignment="Right"/>
            <TextBox Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     Style="{StaticResource PlaceholderTextBox}" Tag="{Binding TypeNameKey}" Grid.Column="1">
                <i:Interaction.Behaviors>
                    <behaviors:GlobalShortcutFocusBehavior/>
                    <behaviors:TextBoxFocusBehavior 
                        SelectOnMouseClick="{Binding BehaveLikeSmallEmbeddedField, ElementName=uc}" 
                        ConfirmOnEnter="{Binding BehaveLikeSmallEmbeddedField, ElementName=uc}"
                        DeselectOnFocusLoss="True"/>
                </i:Interaction.Behaviors>
            </TextBox>
        </Grid>

        <Grid Style="{StaticResource Child}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" SharedSizeGroup="width"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <TextBlock ui:Translator.Key="COLOR" Margin="0,0,10,0" TextAlignment="Right"/>
            <colorpicker:PortableColorPicker Grid.Column="1" SelectedColor="{Binding Color, Mode=TwoWay}" Width="30" HorizontalAlignment="Left"/>
        </Grid>

        <Grid Style="{StaticResource Child}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" SharedSizeGroup="width"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="X" Margin="0,0,10,0" TextAlignment="Right"/>
            <uc:NumberInput Margin="0,0,10,0" Grid.Column="1" Value="{Binding X, Mode=TwoWay}" Width="50" HorizontalAlignment="Left"/>

            <TextBlock Grid.Column="2" Text="Y" Margin="0,0,10,0"/>
            <uc:NumberInput Grid.Column="3" Value="{Binding Y, Mode=TwoWay}" Width="50" HorizontalAlignment="Left"/>
        </Grid>
        
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" SharedSizeGroup="width"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <TextBlock ui:Translator.Key="ROTATION" Margin="0,0,10,0" TextAlignment="Right"/>
            <uc:NumberInput Grid.Column="1" Value="{Binding Rotation, Mode=TwoWay}" Width="50" HorizontalAlignment="Left"/>
        </Grid>
    </StackPanel>
</UserControl>
